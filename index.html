<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.3px Menlo; -webkit-text-stroke: #000000; background-color: #ffffff}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.3px Menlo; -webkit-text-stroke: #000000; background-color: #ffffff; min-height: 15.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="en"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;Notion Social Media Widget&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css" rel="stylesheet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body { font-family: Arial, sans-serif; margin: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.mode-buttons { text-align: center; margin-bottom: 20px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.mode-buttons button { padding: 10px 20px; margin: 5px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#calendar { max-width: 900px; margin: auto; display: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-width: 900px; margin: auto; display: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.grid-item { position: relative; aspect-ratio: 1/1; overflow: hidden; border: 1px solid #ddd; cursor: pointer; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.grid-item img { width: 100%; height: 100%; object-fit: cover; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.grid-item .caption { position: absolute; bottom: 0; background: rgba(0,0,0,0.5); color: white; padding: 5px; width: 100%; text-align: center; font-size: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#modal-content { background: white; padding: 20px; border-radius: 8px; width: 400px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#modal-content input, textarea, select { width: 100%; margin-bottom: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#image-preview { max-width: 100%; height: auto; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h1&gt;Notion Social Media Scheduler Widget&lt;/h1&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="mode-buttons"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;button onclick="showMode('calendar')"&gt;Calendar View&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;button onclick="showMode('grid')"&gt;Feed Preview&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="calendar"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="grid"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Edit Modal --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="modal"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;h2&gt;Edit Post&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;label&gt;Date:&lt;/label&gt;&lt;input type="date" id="post-date"&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;label&gt;Caption:&lt;/label&gt;&lt;textarea id="post-caption"&gt;&lt;/textarea&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;label&gt;Image:&lt;/label&gt;&lt;input type="file" id="post-image" accept="image/*"&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;img id="image-preview" src="" alt="Preview"&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;label&gt;Status:&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;select id="post-status"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;option value="Draft"&gt;Draft&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;option value="Approved"&gt;Approved&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;option value="Not Approved"&gt;Not Approved&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/select&gt;&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button onclick="savePost()"&gt;Save&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;button onclick="closeModal()"&gt;Cancel&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.js"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const NOTION_API_KEY = ‘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’; // REPLACE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const DATABASE_ID = ‘2f6bc4c5252c80169ee7f09103cb5441’; // REPLACE</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const NOTION_VERSION = '2025-09-03';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let currentPostId = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let posts = [];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>async function fetchPosts(filterStatus = null) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const body = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>sorts: [{ property: 'Scheduled Date', direction: 'ascending' }]</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (filterStatus) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>body.filter = { property: 'Status', select: { equals: filterStatus } };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const response = await fetch(`https://api.notion.com/v1/databases/${DATABASE_ID}/query`, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>method: 'POST',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>headers: { 'Authorization': `Bearer ${NOTION_API_KEY}`, 'Notion-Version': NOTION_VERSION, 'Content-Type': 'application/json' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>body: JSON.stringify(body)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const data = await response.json();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return data.results;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>async function renderCalendar() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>posts = await fetchPosts();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const calendarEl = document.getElementById('calendar');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const calendar = new FullCalendar.Calendar(calendarEl, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>initialView: 'dayGridMonth',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>events: posts.map(post =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>id: post.id,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>title: post.properties.Caption?.rich_text[0]?.plain_text?.slice(0, 20) || 'Untitled',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>start: post.properties['Scheduled Date']?.date?.start</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>})),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>dateClick: function(info) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>openModal(null, info.dateStr);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>eventClick: function(info) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const post = posts.find(p =&gt; p.id === info.event.id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>openModal(post);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>calendar.render();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>async function renderGrid() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>posts = await fetchPosts('Draft'); // Drafted posts for preview</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const grid = document.getElementById('grid');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>grid.innerHTML = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>posts.forEach(post =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const imageUrl = post.properties.Image?.files[0]?.file?.url || 'https://via.placeholder.com/300';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const caption = post.properties.Caption?.rich_text[0]?.plain_text?.slice(0, 50) || '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const item = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>item.className = 'grid-item';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>item.innerHTML = `&lt;img src="${imageUrl}" alt="Preview"&gt;&lt;div class="caption"&gt;${caption}...&lt;/div&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>item.onclick = () =&gt; openModal(post);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>grid.appendChild(item);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function showMode(mode) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('calendar').style.display = mode === 'calendar' ? 'block' : 'none';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('grid').style.display = mode === 'grid' ? 'block' : 'none';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (mode === 'calendar') renderCalendar();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (mode === 'grid') renderGrid();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function openModal(post, defaultDate = null) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>currentPostId = post ? post.id : null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('post-date').value = post ? post.properties['Scheduled Date']?.date?.start : (defaultDate || '');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('post-caption').value = post ? post.properties.Caption?.rich_text[0]?.plain_text || '' : '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('post-status').value = post ? post.properties.Status?.select?.name || 'Draft' : 'Draft';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const preview = document.getElementById('image-preview');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>preview.src = post &amp;&amp; post.properties.Image?.files[0]?.file?.url ? post.properties.Image.files[0].file.url : '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('post-image').value = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('modal').style.display = 'flex';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function closeModal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('modal').style.display = 'none';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>async function uploadImage(file) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (!file) return null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const createResponse = await fetch('https://api.notion.com/v1/file_uploads', {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>method: 'POST',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>headers: { 'Authorization': `Bearer ${NOTION_API_KEY}`, 'Notion-Version': NOTION_VERSION, 'Content-Type': 'application/json' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>body: JSON.stringify({ name: file.name, size: file.size, content_type: file.type })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const { id, signed_upload_url } = await createResponse.json();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>await fetch(signed_upload_url, { method: 'PUT', body: file });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// Poll for status 'uploaded' if needed, but assume success after PUT</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return id;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>async function savePost() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const date = document.getElementById('post-date').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const caption = document.getElementById('post-caption').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const status = document.getElementById('post-status').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const file = document.getElementById('post-image').files[0];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let imageProp = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (file) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const uploadId = await uploadImage(file);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (uploadId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>imageProp = { files: [{ type: 'file_upload', file_upload: { id: uploadId }, name: file.name }] };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else if (currentPostId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// Keep existing if no new file</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>imageProp = {}; // Or fetch and reuse</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const properties = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>'Scheduled Date': { date: { start: date } },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>'Caption': { rich_text: [{ text: { content: caption } }] },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>'Status': { select: { name: status } },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>...(Object.keys(imageProp).length &amp;&amp; { 'Image': imageProp })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let response;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (currentPostId) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// Update</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>response = await fetch(`https://api.notion.com/v1/pages/${currentPostId}`, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>method: 'PATCH',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>headers: { 'Authorization': `Bearer ${NOTION_API_KEY}`, 'Notion-Version': NOTION_VERSION, 'Content-Type': 'application/json' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({ properties })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// Create</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>response = await fetch('https://api.notion.com/v1/pages', {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>method: 'POST',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>headers: { 'Authorization': `Bearer ${NOTION_API_KEY}`, 'Notion-Version': NOTION_VERSION, 'Content-Type': 'application/json' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({ parent: { database_id: DATABASE_ID }, properties })</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (response.ok) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>closeModal();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>showMode(document.getElementById('calendar').style.display === 'block' ? 'calendar' : 'grid'); // Refresh current mode</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>alert('Error saving post');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Initial load</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>showMode('calendar');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
